{% extends 'admin_lte/base.html' %}
{% block content %}
<div class="main-panel">
    <div class="content-wrapper">
      <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
<h2>Maintenance Log</h2>
<a href="{% url 'maintenance-add' %}" class="btn btn-primary mb-3">+ Add Request</a>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Room</th>
      <th>Issue</th>
      <th>Reported By</th>
      <th>Date</th>
      <th>Resolved</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for m in logs %}
    <tr>
      <td>{{ m.room.number }}</td>
      <td>{{ m.issue }}</td>
      <td>{{ m.reported_by.name }}</td>
      <td>{{ m.date_reported }}</td>
      <td>{{ m.resolved }}</td>
      <td>
        <a href="{% url 'maintenance-edit' m.id %}" class="btn btn-sm btn-warning">Edit</a>
        <a href="{% url 'maintenance-delete' m.id %}" class="btn btn-sm btn-danger" onclick="return confirm('Delete this?')">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
</div>
</div>
</div>
{% endblock %}
