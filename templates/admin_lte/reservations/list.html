{% extends 'admin_lte/base.html' %}
{% block content %}
<div class="main-panel">
  <div class="content-wrapper">
    <div class="col-lg-12 grid-margin stretch-card">
      <div class="card">
        <div class="card-body">
          <a href="{% url 'export-reservations-csv' %}" class="btn btn-success btn-sm mb-3">
            <i class="bi bi-download"></i> Download Reservations CSV
          </a>
          
          <h2>Reservations</h2>
          <a href="{% url 'reservation-add' %}" class="btn btn-primary mb-3">+ Add Reservation</a>
          <table class="table table-striped table-bordered">
              <thead>
                  <tr>
                      <th>ID</th>
                      <th>Guest</th>
                      <th>Room</th>
                      <th>Check In</th>
                      <th>Check Out</th>
                      <th>Booked By</th>
                      <th>Actions</th>
                  </tr>
              </thead>
              <tbody>
              {% for r in reservations %}
                  <tr>
                      <td>{{ r.id }}</td>
                      <td>{{ r.guest.name }}</td>
                      <td>{{ r.room.number }}</td>
                      <td>{{ r.check_in }}</td>
                      <td>{{ r.check_out }}</td>
                      <td>{{ r.user.username }}</td>
                      <td>
                          <a href="{% url 'reservation-edit' r.id %}" class="btn btn-sm btn-info">Edit</a>
                          <a href="{% url 'reservation-delete' r.id %}" class="btn btn-sm btn-danger">Delete</a>
                      </td>
                  </tr>
              {% endfor %}
              </tbody>
          </table>
</div>
</div>
</div>
</div>
</div>


{% endblock %}
